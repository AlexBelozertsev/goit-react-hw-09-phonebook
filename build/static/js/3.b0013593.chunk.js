(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{100:function(t,e,n){},101:function(t,e,n){},102:function(t,e,n){t.exports=n(104)},103:function(t,e,n){t.exports={contactsContainer:"Contacts_contactsContainer__3qyCb",contactsList:"Contacts_contactsList__1mwUb",contactItem:"Contacts_contactItem__vhyfL",actions:"Contacts_actions__25Uyn"}},104:function(t,e,n){"use strict";function a(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var r=n(0),i=a(r),o=n(24);n(19);var c=a(n(105));function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function l(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}function s(t){return requestAnimationFrame(t)}function f(t){cancelAnimationFrame(t)}function d(t){var e=t.ownerDocument;return e.hasFocus()&&e.activeElement===t}function h(t){return null==t?void 0:t.ownerDocument}function m(t){return r.useCallback((function(){var e=t.current,n="undefined"!=typeof window&&function(t){var e=function(t){var e;return null==(e=h(t))?void 0:e.defaultView}(t);return!!e&&t instanceof e.HTMLElement}(e);if(!e||!n)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e}),[t])}function v(t,e){var n,a,i,o,c=r.useRef({start:null,end:null}),u=m(t),l=r.useCallback((function(){return function(t){var e=t.selectionStart,n=t.selectionEnd;return{start:e,end:n,length:n-e}}(u())}),[u]),h=r.useCallback((function(){return c.current}),[]),v=r.useCallback((function(t){var e=u();e&&d(e)&&(function(t,e,n){void 0===n&&(n=e),t.setSelectionRange(e,n)}(e,t.start,t.end),c.current=l())}),[u,l]),b=r.useCallback((function(){c.current=l()}),[l]),g=(n=b,a=r.useRef(null),i=r.useCallback((function(){null===a.current&&function t(){n(),a.current=s(t)}()}),[n]),o=r.useCallback((function(){f(a.current),a.current=null}),[]),r.useEffect((function(){a.current&&(o(),i())}),[i,o]),r.useEffect(f,[]),[i,o]),p=g[0],j=g[1];return r.useLayoutEffect((function(){if(e){var t=u();return t.addEventListener("focus",p),t.addEventListener("blur",j),d(t)&&p(),function(){t.removeEventListener("focus",p),t.removeEventListener("blur",j),j()}}})),{getSelection:l,getLastSelection:h,setSelection:v}}function b(t,e){var n=r.useRef(),a=v(n,e),i=a.getSelection,o=a.getLastSelection,c=a.setSelection,u=function(t,e){var n=m(t),a=r.useRef(e);return{getValue:r.useCallback((function(){return n().value}),[n]),getLastValue:r.useCallback((function(){return a.current}),[]),setValue:r.useCallback((function(t){a.current=t;var e=n();e&&(e.value=t)}),[n])}}(n,t),l=u.getValue,s=u.getLastValue,f=u.setValue;return{inputRef:n,getInputState:function(){return{value:l(),selection:i()}},getLastInputState:function(){return{value:s(),selection:o()}},setInputState:function(t){var e=t.value,n=t.selection;f(e),c(n)}}}n(106);var g=["disabled","onBlur","onChange","onFocus","onMouseDown","readOnly","value"],p={9:/[0-9]/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/},j=function(t){var e=this;this.isCharacterAllowedAtPosition=function(t,n){var a=e.maskOptions.maskPlaceholder;return!!e.isCharacterFillingPosition(t,n)||!!a&&a[n]===t},this.isCharacterFillingPosition=function(t,n){var a=e.maskOptions.mask;if(!t||n>=a.length)return!1;if(!e.isPositionEditable(n))return a[n]===t;var r=a[n];return new RegExp(r).test(t)},this.isPositionEditable=function(t){var n=e.maskOptions,a=n.mask,r=n.permanents;return t<a.length&&-1===r.indexOf(t)},this.isValueEmpty=function(t){return t.split("").every((function(t,n){return!e.isPositionEditable(n)||!e.isCharacterFillingPosition(t,n)}))},this.isValueFilled=function(t){return e.getFilledLength(t)===e.maskOptions.lastEditablePosition+1},this.getDefaultSelectionForValue=function(t){var n=e.getFilledLength(t),a=e.getRightEditablePosition(n);return{start:a,end:a}},this.getFilledLength=function(t){return function(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n],n))return n;return-1}(t.split(""),(function(t,n){return e.isPositionEditable(n)&&e.isCharacterFillingPosition(t,n)}))+1},this.getStringFillingLengthAtPosition=function(t,n){return t.split("").reduce((function(t,n){return e.insertCharacterAtPosition(t,n,t.length)}),function(t,e){void 0===e&&(e=1);for(var n="",a=0;a<e;a++)n+=" ";return n}(0,n)).length-n},this.getLeftEditablePosition=function(t){for(var n=t;n>=0;n--)if(e.isPositionEditable(n))return n;return null},this.getRightEditablePosition=function(t){for(var n=e.maskOptions.mask,a=t;a<n.length;a++)if(e.isPositionEditable(a))return a;return null},this.formatValue=function(t){var n=e.maskOptions,a=n.maskPlaceholder,r=n.mask;if(!a){for(t=e.insertStringAtPosition("",t,0);t.length<r.length&&!e.isPositionEditable(t.length);)t+=r[t.length];return t}return e.insertStringAtPosition(a,t,0)},this.clearRange=function(t,n,a){if(!a)return t;var r=n+a,i=e.maskOptions,o=i.maskPlaceholder,c=i.mask,u=t.split("").map((function(t,a){var i=e.isPositionEditable(a);return!o&&a>=r&&!i?"":a<n||a>=r?t:i?o?o[a]:"":c[a]})).join("");return e.formatValue(u)},this.insertCharacterAtPosition=function(t,n,a){var r=e.maskOptions,i=r.mask,o=r.maskPlaceholder;if(a>=i.length)return t;var c=e.isCharacterAllowedAtPosition(n,a),u=e.isPositionEditable(a),l=e.getRightEditablePosition(a),s=o&&l?n===o[l]:null,f=t.slice(0,a);return!c&&u||(t=f+(c?n:i[a])),c||u||s||(t=e.insertCharacterAtPosition(t,n,a+1)),t},this.insertStringAtPosition=function(t,n,a){var r=e.maskOptions,i=r.mask,o=r.maskPlaceholder;if(!n||a>=i.length)return t;var c=n.split(""),u=e.isValueFilled(t)||!!o,l=t.slice(a);return t=c.reduce((function(t,n){return e.insertCharacterAtPosition(t,n,t.length)}),t.slice(0,a)),u?t+=l.slice(t.length-a):e.isValueFilled(t)?t+=i.slice(t.length).join(""):t=l.split("").filter((function(t,n){return e.isPositionEditable(a+n)})).reduce((function(t,n){var a=e.getRightEditablePosition(t.length);return null===a?t:(e.isPositionEditable(t.length)||(t+=i.slice(t.length,a).join("")),e.insertCharacterAtPosition(t,n,t.length))}),t),t},this.processChange=function(t,n){var a=e.maskOptions,r=a.mask,i=a.prefix,o=a.lastEditablePosition,c=t.value,u=t.selection,l=n.value,s=n.selection,f=c,d="",h=0,m=0,v=Math.min(s.start,u.start);return u.end>s.start?(d=f.slice(s.start,u.end),m=(h=e.getStringFillingLengthAtPosition(d,v))?s.length:0):f.length<l.length&&(m=l.length-f.length),f=l,m&&(1!==m||s.length||(v=s.start===u.start?e.getRightEditablePosition(u.start):e.getLeftEditablePosition(u.start)),f=e.clearRange(f,v,m)),f=e.insertStringAtPosition(f,d,v),(v+=h)>=r.length?v=r.length:v<i.length&&!h?v=i.length:v>=i.length&&v<o&&h&&(v=e.getRightEditablePosition(v)),{value:f=e.formatValue(f),enteredString:d,selection:{start:v,end:v}}},this.maskOptions=function(t){var e=t.mask,n=t.maskPlaceholder,a=[];if(!e)return{maskPlaceholder:null,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};if("string"==typeof e){var r=!1,i="";e.split("").forEach((function(t){r||"\\"!==t?(!r&&p[t]||a.push(i.length),i+=t,r=!1):r=!0})),e=i.split("").map((function(t,e){return-1===a.indexOf(e)?p[t]:t}))}else e.forEach((function(t,e){"string"==typeof t&&a.push(e)}));n&&(n=1===n.length?e.map((function(t,e){return-1!==a.indexOf(e)?t:n})):n.split(""),a.forEach((function(t){n[t]=e[t]})),n=n.join(""));for(var o=a.filter((function(t,e){return t===e})).map((function(t){return e[t]})).join(""),c=e.length-1;-1!==a.indexOf(c);)c--;return{maskPlaceholder:n,prefix:o,mask:e,lastEditablePosition:c,permanents:a}}(t)},O=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,function(t,e){for(var n=Object.getOwnPropertyNames(e),a=0;a<n.length;a++){var r=n[a],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e)}(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=l(t,["children"]);return i.cloneElement(e,n)},e}(i.Component),C=r.forwardRef((function(t,e){var n=t.alwaysShowMask,a=t.children,f=t.mask,v=t.maskPlaceholder,p=t.beforeMaskedStateChange,C=l(t,["alwaysShowMask","children","mask","maskPlaceholder","beforeMaskedStateChange"]);!function(t){var e=t.mask,n=t.maskPlaceholder;e&&n&&1!==n.length&&n.length!==e.length&&c(!1)}(t);var k,x,P=new j({mask:f,maskPlaceholder:v}),E=!!f,S=!C.disabled&&!C.readOnly,y=null!==t.value&&void 0!==t.value,w=(k=E,x=r.useRef(),r.useEffect((function(){x.current=k})),x.current),F=b(function(t){return""+t}((y?t.value:t.defaultValue)||""),E),L=F.inputRef,V=F.getInputState,A=F.setInputState,N=F.getLastInputState,M=m(L);if(E&&y){var _=M(),D=_&&d(_)||n||t.value?P.formatValue(t.value):t.value;p&&(D=p({nextState:{value:D,selection:{start:null,end:null}}}).value),A(u({},N(),{value:D}))}var R=N(),I=R.selection,T=R.value;r.useLayoutEffect((function(){if(E){var t=d(M()),e=I,a=V(),r=u({},a);if(!y){var i=a.value,o=P.formatValue(i),c=P.isValueEmpty(o);!c||t||n?r.value=o:c&&!t&&(r.value="")}t&&!w?r.selection=P.getDefaultSelectionForValue(r.value):y&&t&&e&&null!==e.start&&null!==e.end&&(r.selection=e),p&&(r=p({currentState:a,nextState:r})),A(r)}}));var q=u({},C,{onFocus:function(e){L.current=e.target;var n=V().value;if(E&&!P.isValueFilled(n)){var a=P.formatValue(n),r=P.getDefaultSelectionForValue(a),i={value:a,selection:r};p&&(a=(i=p({currentState:V(),nextState:i})).value,r=i.selection),A(i),a!==n&&t.onChange&&t.onChange(e),s((function(){A(N())}))}t.onFocus&&t.onFocus(e)},onBlur:function(e){var a=V().value,r=N().value;if(E&&!n&&P.isValueEmpty(r)){var i="",o={value:i,selection:{start:null,end:null}};p&&(i=(o=p({currentState:V(),nextState:o})).value),A(o),i!==a&&t.onChange&&t.onChange(e)}t.onBlur&&t.onBlur(e)},onChange:E&&S?function(e){var n=V(),a=N(),r=P.processChange(n,a);p&&(r=p({currentState:n,previousState:a,nextState:r})),A(r),t.onChange&&t.onChange(e)}:t.onChange,onMouseDown:E&&S?function(e){var n=M(),a=V().value,r=h(n);if(!d(n)&&!P.isValueFilled(a)){var i=e.clientX,o=e.clientY,c=(new Date).getTime();r.addEventListener("mouseup",(function t(e){if(r.removeEventListener("mouseup",t),d(n)){var a=Math.abs(e.clientX-i),l=Math.abs(e.clientY-o),s=Math.max(a,l),f=(new Date).getTime()-c;if(s<=10&&f<=200||s<=5&&f<=300){var h=N(),m=u({},h,{selection:P.getDefaultSelectionForValue(h.value)});A(m)}}}))}t.onMouseDown&&t.onMouseDown(e)}:t.onMouseDown,ref:function(t){L.current=o.findDOMNode(t),function(t){return"function"==typeof t}(e)?e(t):null!==e&&"object"==typeof e&&(e.current=t)},value:E&&y?T:t.value});return a?(function(t,e){g.filter((function(n){return null!=e.props[n]&&e.props[n]!==t[n]})).length&&c(!1)}(t,a),i.createElement(O,q,a)):i.createElement("input",q)}));C.displayName="InputMask",C.defaultProps={alwaysShowMask:!1,maskPlaceholder:"_"},t.exports=C},105:function(t,e,n){"use strict";t.exports=function(t,e,n,a,r,i,o,c){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,a,r,i,o,c],s=0;(u=new Error(e.replace(/%s/g,(function(){return l[s++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},106:function(t,e,n){"use strict";var a=function(){};t.exports=a},107:function(t,e,n){},111:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return E}));var a=n(0),r=n(8),i=n(37),o=n(94),c=n(29),u=n(102),l=n.n(u),s=n(98),f=n(96),d=n(97),h=n(38),m=n(1);function v(){var t=Object(r.b)(),e=Object(a.useState)(""),n=Object(c.a)(e,2),o=n[0],u=n[1],v=Object(a.useState)(""),b=Object(c.a)(v,2),g=b[0],p=b[1],j=Object(r.c)(i.d.getContactsNames),O=Object(a.useCallback)((function(t){u(t.currentTarget.name),p(t.currentTarget.value)}),[]),C=Object(a.useCallback)((function(e){return e.preventDefault(),j.filter((function(t){return o.toLowerCase()===t})).length?(alert("".concat(o," is already in contacts")),void k()):o&&g?(t(i.c.addContact({name:o,number:g})),void k()):void alert("Please enter Name or phone number")}),[o,g,t,k]),k=function(){u(""),p("")};return Object(m.jsxs)(s.a,{onSubmit:C,children:[Object(m.jsx)(f.a,{name:"Name:",children:Object(m.jsx)(d.a,{type:"text",name:"name",value:o,placeholder:"John Smith",onChange:O})}),Object(m.jsx)(f.a,{name:"Phone:",children:Object(m.jsx)(l.a,{mask:"+38 (099) 999-99-99",type:"tel",name:"number",value:g,placeholder:"+38 (099) 999-99-99",onChange:O})}),Object(m.jsx)(h.a,{type:"submit",text:"Add contact"})]})}function b(){var t=Object(r.b)(),e=Object(a.useCallback)((function(e){t(Object(i.a)(e.target.value))}),[t]),n=Object(r.c)(i.d.getVisibleContacts);return Object(m.jsx)(f.a,{name:"Find contact by name",children:Object(m.jsx)(d.a,{type:"text",name:"name",value:n,onChange:e})})}v.defaultProps={contactsNames:[]};var g=n(103),p=n.n(g),j=n(24),O=(n(107),document.querySelector("#modal-root"));function C(t){var e=t.onClose,n=t.children;Object(a.useEffect)((function(){var t=function(t){"Escape"===t.code&&e()};return window.addEventListener("keydown",t),window.removeEventListener("keydown",t)}),[e]);return Object(j.createPortal)(Object(m.jsx)("div",{className:"Modal__backdrop",onClick:function(t){t.currentTarget===t.target&&e()},children:Object(m.jsx)("div",{className:"Modal__content",children:n})}),O)}function k(t){var e=t.contact,n=t.onSave,u=Object(r.b)(),v=Object(a.useState)(""),b=Object(c.a)(v,2),g=b[0],p=b[1],j=Object(a.useState)(""),O=Object(c.a)(j,2),C=O[0],k=O[1],x=Object(a.useState)(""),P=Object(c.a)(x,2),E=P[0],S=P[1],y=Object(r.c)(i.d.getContactsNames),w=Object(r.c)(i.d.getContactsNumbers);Object(a.useEffect)((function(){p(e.id),k(e.name),S(e.number)}),[]);var F=Object(a.useCallback)((function(t){k(t.currentTarget.name),S(t.currentTarget.value)}),[]),L=Object(a.useCallback)((function(t){t.preventDefault();var e=y.filter((function(t){return C.toLowerCase()===t})),a=w.filter((function(t){return E===t}));if(!e.length||!a.length)return C&&E?(u(i.c.editContact(g,{name:C,number:E})),V(),void n()):void alert("Please enter Name and phone Number");alert("\u0421ontact ".concat(C," has not been changed"))}),[C,E,u,n,V]),V=function(){p(""),k(""),S("")};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{text:"Edit your Contact"}),Object(m.jsxs)(s.a,{onSubmit:L,children:[Object(m.jsx)(f.a,{name:"Name:",children:Object(m.jsx)(d.a,{type:"text",name:"name",value:C,placeholder:"John Smith",onChange:F})}),Object(m.jsx)(f.a,{name:"Phone:",children:Object(m.jsx)(l.a,{mask:"+38 (099) 999-99-99",type:"tel",name:"number",value:E,placeholder:"+38 (099) 999-99-99",onChange:F})}),Object(m.jsx)(h.a,{type:"submit",text:"Edit contact"})]})]})}function x(t){var e=t.id,n=t.name,o=t.number,u=Object(a.useState)(!1),l=Object(c.a)(u,2),s=l[0],f=l[1],d=Object(r.b)(),v=Object(a.useCallback)((function(){f((function(t){return!t}))}),[]);return Object(m.jsxs)(m.Fragment,{children:[n,": ",o,Object(m.jsxs)("div",{className:p.a.actions,children:[Object(m.jsx)(h.a,{type:"button",text:"Edit",onClick:v}),Object(m.jsx)(h.a,{type:"button",text:"Delete",onClick:function(t){return d(i.c.deleteContact(t))}})]}),s&&Object(m.jsx)(C,{onClose:v,children:Object(m.jsx)(k,{onSave:v,contact:{id:e,name:n,number:o}})})]})}function P(){var t=Object(r.c)(i.d.getFilteredContact);return Object(m.jsx)("div",{className:p.a.contactsContainer,children:Object(m.jsx)("ul",{className:p.a.contactsList,children:t.length>0&&t.map((function(t){var e=t.id,n=t.name,a=t.number;return Object(m.jsx)("li",{className:p.a.contactItem,children:Object(m.jsx)(x,{id:e,name:n,number:a})},e)}))})})}function E(){var t=Object(r.b)();Object(a.useEffect)((function(){t(i.c.getContacts())}),[t]);var e=Object(r.c)(i.d.getAllContacts);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{text:"Add new Contact"}),Object(m.jsx)(v,{contacts:e}),e.length>0&&Object(m.jsx)(o.a,{text:"Your Contacts:"}),e.length>1&&Object(m.jsx)(b,{}),Object(m.jsx)(P,{})]})}},94:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(0),n(95);var a=n(1),r=function(t){var e=t.text;return Object(a.jsx)("h2",{className:"Title",children:e})}},95:function(t,e,n){},96:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(0),n(100);var a=n(1),r=function(t){var e=t.htmlFor,n=t.name,r=t.children;return Object(a.jsxs)("label",{htmlFor:e,children:[n," ",r]})};r.defaultProps={htmlFor:null,name:null};var i=r},97:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(0),n(101);var a=n(1),r=function(t){var e=t.type,n=t.name,r=t.value,i=t.id,o=t.placeholder,c=t.onChange;return Object(a.jsx)("input",{type:e,name:n,value:r,id:i,placeholder:o,onChange:c})};r.defaultProps={id:null,placeholder:null};var i=r},98:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(0);var a=n(99),r=n.n(a),i=n(1),o=function(t){var e=t.autoComplete,n=t.children,a=t.onSubmit;return Object(i.jsx)("form",{autoComplete:e,className:r.a.Form,onSubmit:a,children:n})};o.defaultProps={autoComplete:null};var c=o},99:function(t,e,n){t.exports={Form:"Form_Form__LLFEl"}}}]);
//# sourceMappingURL=3.b0013593.chunk.js.map