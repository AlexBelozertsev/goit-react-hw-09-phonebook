(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{100:function(t,e,n){},101:function(t,e,n){t.exports=n(103)},102:function(t,e,n){t.exports={contactsContainer:"Contacts_contactsContainer__3qyCb",contactsList:"Contacts_contactsList__1mwUb",contactItem:"Contacts_contactItem__vhyfL",actions:"Contacts_actions__25Uyn"}},103:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var a=n(0),i=r(a),o=n(24);n(19);var u=r(n(104));function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}function s(t){return requestAnimationFrame(t)}function f(t){cancelAnimationFrame(t)}function d(t){var e=t.ownerDocument;return e.hasFocus()&&e.activeElement===t}function h(t){return null==t?void 0:t.ownerDocument}function m(t){return a.useCallback((function(){var e=t.current,n="undefined"!=typeof window&&function(t){var e=function(t){var e;return null==(e=h(t))?void 0:e.defaultView}(t);return!!e&&t instanceof e.HTMLElement}(e);if(!e||!n)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e}),[t])}function v(t,e){var n,r,i,o,u=a.useRef({start:null,end:null}),c=m(t),l=a.useCallback((function(){return function(t){var e=t.selectionStart,n=t.selectionEnd;return{start:e,end:n,length:n-e}}(c())}),[c]),h=a.useCallback((function(){return u.current}),[]),v=a.useCallback((function(t){var e=c();e&&d(e)&&(function(t,e,n){void 0===n&&(n=e),t.setSelectionRange(e,n)}(e,t.start,t.end),u.current=l())}),[c,l]),b=a.useCallback((function(){u.current=l()}),[l]),g=(n=b,r=a.useRef(null),i=a.useCallback((function(){null===r.current&&function t(){n(),r.current=s(t)}()}),[n]),o=a.useCallback((function(){f(r.current),r.current=null}),[]),a.useEffect((function(){r.current&&(o(),i())}),[i,o]),a.useEffect(f,[]),[i,o]),p=g[0],j=g[1];return a.useLayoutEffect((function(){if(e){var t=c();return t.addEventListener("focus",p),t.addEventListener("blur",j),d(t)&&p(),function(){t.removeEventListener("focus",p),t.removeEventListener("blur",j),j()}}})),{getSelection:l,getLastSelection:h,setSelection:v}}function b(t,e){var n=a.useRef(),r=v(n,e),i=r.getSelection,o=r.getLastSelection,u=r.setSelection,c=function(t,e){var n=m(t),r=a.useRef(e);return{getValue:a.useCallback((function(){return n().value}),[n]),getLastValue:a.useCallback((function(){return r.current}),[]),setValue:a.useCallback((function(t){r.current=t;var e=n();e&&(e.value=t)}),[n])}}(n,t),l=c.getValue,s=c.getLastValue,f=c.setValue;return{inputRef:n,getInputState:function(){return{value:l(),selection:i()}},getLastInputState:function(){return{value:s(),selection:o()}},setInputState:function(t){var e=t.value,n=t.selection;f(e),u(n)}}}n(105);var g=["disabled","onBlur","onChange","onFocus","onMouseDown","readOnly","value"],p={9:/[0-9]/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/},j=function(t){var e=this;this.isCharacterAllowedAtPosition=function(t,n){var r=e.maskOptions.maskPlaceholder;return!!e.isCharacterFillingPosition(t,n)||!!r&&r[n]===t},this.isCharacterFillingPosition=function(t,n){var r=e.maskOptions.mask;if(!t||n>=r.length)return!1;if(!e.isPositionEditable(n))return r[n]===t;var a=r[n];return new RegExp(a).test(t)},this.isPositionEditable=function(t){var n=e.maskOptions,r=n.mask,a=n.permanents;return t<r.length&&-1===a.indexOf(t)},this.isValueEmpty=function(t){return t.split("").every((function(t,n){return!e.isPositionEditable(n)||!e.isCharacterFillingPosition(t,n)}))},this.isValueFilled=function(t){return e.getFilledLength(t)===e.maskOptions.lastEditablePosition+1},this.getDefaultSelectionForValue=function(t){var n=e.getFilledLength(t),r=e.getRightEditablePosition(n);return{start:r,end:r}},this.getFilledLength=function(t){return function(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n],n))return n;return-1}(t.split(""),(function(t,n){return e.isPositionEditable(n)&&e.isCharacterFillingPosition(t,n)}))+1},this.getStringFillingLengthAtPosition=function(t,n){return t.split("").reduce((function(t,n){return e.insertCharacterAtPosition(t,n,t.length)}),function(t,e){void 0===e&&(e=1);for(var n="",r=0;r<e;r++)n+=" ";return n}(0,n)).length-n},this.getLeftEditablePosition=function(t){for(var n=t;n>=0;n--)if(e.isPositionEditable(n))return n;return null},this.getRightEditablePosition=function(t){for(var n=e.maskOptions.mask,r=t;r<n.length;r++)if(e.isPositionEditable(r))return r;return null},this.formatValue=function(t){var n=e.maskOptions,r=n.maskPlaceholder,a=n.mask;if(!r){for(t=e.insertStringAtPosition("",t,0);t.length<a.length&&!e.isPositionEditable(t.length);)t+=a[t.length];return t}return e.insertStringAtPosition(r,t,0)},this.clearRange=function(t,n,r){if(!r)return t;var a=n+r,i=e.maskOptions,o=i.maskPlaceholder,u=i.mask,c=t.split("").map((function(t,r){var i=e.isPositionEditable(r);return!o&&r>=a&&!i?"":r<n||r>=a?t:i?o?o[r]:"":u[r]})).join("");return e.formatValue(c)},this.insertCharacterAtPosition=function(t,n,r){var a=e.maskOptions,i=a.mask,o=a.maskPlaceholder;if(r>=i.length)return t;var u=e.isCharacterAllowedAtPosition(n,r),c=e.isPositionEditable(r),l=e.getRightEditablePosition(r),s=o&&l?n===o[l]:null,f=t.slice(0,r);return!u&&c||(t=f+(u?n:i[r])),u||c||s||(t=e.insertCharacterAtPosition(t,n,r+1)),t},this.insertStringAtPosition=function(t,n,r){var a=e.maskOptions,i=a.mask,o=a.maskPlaceholder;if(!n||r>=i.length)return t;var u=n.split(""),c=e.isValueFilled(t)||!!o,l=t.slice(r);return t=u.reduce((function(t,n){return e.insertCharacterAtPosition(t,n,t.length)}),t.slice(0,r)),c?t+=l.slice(t.length-r):e.isValueFilled(t)?t+=i.slice(t.length).join(""):t=l.split("").filter((function(t,n){return e.isPositionEditable(r+n)})).reduce((function(t,n){var r=e.getRightEditablePosition(t.length);return null===r?t:(e.isPositionEditable(t.length)||(t+=i.slice(t.length,r).join("")),e.insertCharacterAtPosition(t,n,t.length))}),t),t},this.processChange=function(t,n){var r=e.maskOptions,a=r.mask,i=r.prefix,o=r.lastEditablePosition,u=t.value,c=t.selection,l=n.value,s=n.selection,f=u,d="",h=0,m=0,v=Math.min(s.start,c.start);return c.end>s.start?(d=f.slice(s.start,c.end),m=(h=e.getStringFillingLengthAtPosition(d,v))?s.length:0):f.length<l.length&&(m=l.length-f.length),f=l,m&&(1!==m||s.length||(v=s.start===c.start?e.getRightEditablePosition(c.start):e.getLeftEditablePosition(c.start)),f=e.clearRange(f,v,m)),f=e.insertStringAtPosition(f,d,v),(v+=h)>=a.length?v=a.length:v<i.length&&!h?v=i.length:v>=i.length&&v<o&&h&&(v=e.getRightEditablePosition(v)),{value:f=e.formatValue(f),enteredString:d,selection:{start:v,end:v}}},this.maskOptions=function(t){var e=t.mask,n=t.maskPlaceholder,r=[];if(!e)return{maskPlaceholder:null,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};if("string"==typeof e){var a=!1,i="";e.split("").forEach((function(t){a||"\\"!==t?(!a&&p[t]||r.push(i.length),i+=t,a=!1):a=!0})),e=i.split("").map((function(t,e){return-1===r.indexOf(e)?p[t]:t}))}else e.forEach((function(t,e){"string"==typeof t&&r.push(e)}));n&&(n=1===n.length?e.map((function(t,e){return-1!==r.indexOf(e)?t:n})):n.split(""),r.forEach((function(t){n[t]=e[t]})),n=n.join(""));for(var o=r.filter((function(t,e){return t===e})).map((function(t){return e[t]})).join(""),u=e.length-1;-1!==r.indexOf(u);)u--;return{maskPlaceholder:n,prefix:o,mask:e,lastEditablePosition:u,permanents:r}}(t)},O=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var a=n[r],i=Object.getOwnPropertyDescriptor(e,a);i&&i.configurable&&void 0===t[a]&&Object.defineProperty(t,a,i)}}(t,e)}(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=l(t,["children"]);return i.cloneElement(e,n)},e}(i.Component),C=a.forwardRef((function(t,e){var n=t.alwaysShowMask,r=t.children,f=t.mask,v=t.maskPlaceholder,p=t.beforeMaskedStateChange,C=l(t,["alwaysShowMask","children","mask","maskPlaceholder","beforeMaskedStateChange"]);!function(t){var e=t.mask,n=t.maskPlaceholder;e&&n&&1!==n.length&&n.length!==e.length&&u(!1)}(t);var k,x,P=new j({mask:f,maskPlaceholder:v}),y=!!f,E=!C.disabled&&!C.readOnly,S=null!==t.value&&void 0!==t.value,w=(k=y,x=a.useRef(),a.useEffect((function(){x.current=k})),x.current),F=b(function(t){return""+t}((S?t.value:t.defaultValue)||""),y),L=F.inputRef,V=F.getInputState,A=F.setInputState,N=F.getLastInputState,M=m(L);if(y&&S){var _=M(),D=_&&d(_)||n||t.value?P.formatValue(t.value):t.value;p&&(D=p({nextState:{value:D,selection:{start:null,end:null}}}).value),A(c({},N(),{value:D}))}var R=N(),I=R.selection,T=R.value;a.useLayoutEffect((function(){if(y){var t=d(M()),e=I,r=V(),a=c({},r);if(!S){var i=r.value,o=P.formatValue(i),u=P.isValueEmpty(o);!u||t||n?a.value=o:u&&!t&&(a.value="")}t&&!w?a.selection=P.getDefaultSelectionForValue(a.value):S&&t&&e&&null!==e.start&&null!==e.end&&(a.selection=e),p&&(a=p({currentState:r,nextState:a})),A(a)}}));var q=c({},C,{onFocus:function(e){L.current=e.target;var n=V().value;if(y&&!P.isValueFilled(n)){var r=P.formatValue(n),a=P.getDefaultSelectionForValue(r),i={value:r,selection:a};p&&(r=(i=p({currentState:V(),nextState:i})).value,a=i.selection),A(i),r!==n&&t.onChange&&t.onChange(e),s((function(){A(N())}))}t.onFocus&&t.onFocus(e)},onBlur:function(e){var r=V().value,a=N().value;if(y&&!n&&P.isValueEmpty(a)){var i="",o={value:i,selection:{start:null,end:null}};p&&(i=(o=p({currentState:V(),nextState:o})).value),A(o),i!==r&&t.onChange&&t.onChange(e)}t.onBlur&&t.onBlur(e)},onChange:y&&E?function(e){var n=V(),r=N(),a=P.processChange(n,r);p&&(a=p({currentState:n,previousState:r,nextState:a})),A(a),t.onChange&&t.onChange(e)}:t.onChange,onMouseDown:y&&E?function(e){var n=M(),r=V().value,a=h(n);if(!d(n)&&!P.isValueFilled(r)){var i=e.clientX,o=e.clientY,u=(new Date).getTime();a.addEventListener("mouseup",(function t(e){if(a.removeEventListener("mouseup",t),d(n)){var r=Math.abs(e.clientX-i),l=Math.abs(e.clientY-o),s=Math.max(r,l),f=(new Date).getTime()-u;if(s<=10&&f<=200||s<=5&&f<=300){var h=N(),m=c({},h,{selection:P.getDefaultSelectionForValue(h.value)});A(m)}}}))}t.onMouseDown&&t.onMouseDown(e)}:t.onMouseDown,ref:function(t){L.current=o.findDOMNode(t),function(t){return"function"==typeof t}(e)?e(t):null!==e&&"object"==typeof e&&(e.current=t)},value:y&&S?T:t.value});return r?(function(t,e){g.filter((function(n){return null!=e.props[n]&&e.props[n]!==t[n]})).length&&u(!1)}(t,r),i.createElement(O,q,r)):i.createElement("input",q)}));C.displayName="InputMask",C.defaultProps={alwaysShowMask:!1,maskPlaceholder:"_"},t.exports=C},104:function(t,e,n){"use strict";t.exports=function(t,e,n,r,a,i,o,u){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,i,o,u],s=0;(c=new Error(e.replace(/%s/g,(function(){return l[s++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},105:function(t,e,n){"use strict";var r=function(){};t.exports=r},106:function(t,e,n){},110:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return y}));var r=n(0),a=n(8),i=n(34),o=n(92),u=n(94),c=n(101),l=n.n(c),s=n(97),f=n(95),d=n(96),h=n(35),m=n(1);function v(){var t=Object(a.b)(),e=Object(r.useState)(""),n=Object(u.a)(e,2),o=n[0],c=n[1],v=Object(r.useState)(""),b=Object(u.a)(v,2),g=b[0],p=b[1],j=Object(a.c)(i.d.getContactsNames),O=Object(r.useCallback)((function(t){c(t.currentTarget.name),p(t.currentTarget.value)}),[]),C=Object(r.useCallback)((function(e){return e.preventDefault(),j.filter((function(t){return o.toLowerCase()===t})).length?(alert("".concat(o," is already in contacts")),void k()):o&&g?(t(i.c.addContact({name:o,number:g})),void k()):void alert("Please enter Name or phone number")}),[o,g,t,k]),k=function(){c(""),p("")};return Object(m.jsxs)(s.a,{onSubmit:C,children:[Object(m.jsx)(f.a,{name:"Name:",children:Object(m.jsx)(d.a,{type:"text",name:"name",value:o,placeholder:"John Smith",onChange:O})}),Object(m.jsx)(f.a,{name:"Phone:",children:Object(m.jsx)(l.a,{mask:"+38 (099) 999-99-99",type:"tel",name:"number",value:g,placeholder:"+38 (099) 999-99-99",onChange:O})}),Object(m.jsx)(h.a,{type:"submit",text:"Add contact"})]})}function b(){var t=Object(a.b)(),e=Object(r.useCallback)((function(e){t(Object(i.a)(e.target.value))}),[t]),n=Object(a.c)(i.d.getVisibleContacts);return Object(m.jsx)(f.a,{name:"Find contact by name",children:Object(m.jsx)(d.a,{type:"text",name:"name",value:n,onChange:e})})}v.defaultProps={contactsNames:[]};var g=n(102),p=n.n(g),j=n(24),O=(n(106),document.querySelector("#modal-root"));function C(t){var e=t.onClose,n=t.children;Object(r.useEffect)((function(){var t=function(t){"Escape"===t.code&&e()};return window.addEventListener("keydown",t),window.removeEventListener("keydown",t)}),[e]);return Object(j.createPortal)(Object(m.jsx)("div",{className:"Modal__backdrop",onClick:function(t){t.currentTarget===t.target&&e()},children:Object(m.jsx)("div",{className:"Modal__content",children:n})}),O)}function k(t){var e=t.contact,n=t.onSave,c=Object(a.b)(),v=Object(r.useState)(""),b=Object(u.a)(v,2),g=b[0],p=b[1],j=Object(r.useState)(""),O=Object(u.a)(j,2),C=O[0],k=O[1],x=Object(r.useState)(""),P=Object(u.a)(x,2),y=P[0],E=P[1],S=Object(a.c)(i.d.getContactsNames),w=Object(a.c)(i.d.getContactsNumbers);Object(r.useEffect)((function(){p(e.id),k(e.name),E(e.number)}),[]);var F=Object(r.useCallback)((function(t){k(t.currentTarget.name),E(t.currentTarget.value)}),[]),L=Object(r.useCallback)((function(t){t.preventDefault();var e=S.filter((function(t){return C.toLowerCase()===t})),r=w.filter((function(t){return y===t}));if(!e.length||!r.length)return C&&y?(c(i.c.editContact(g,{name:C,number:y})),V(),void n()):void alert("Please enter Name and phone Number");alert("\u0421ontact ".concat(C," has not been changed"))}),[C,y,c,n,V]),V=function(){p(""),k(""),E("")};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{text:"Edit your Contact"}),Object(m.jsxs)(s.a,{onSubmit:L,children:[Object(m.jsx)(f.a,{name:"Name:",children:Object(m.jsx)(d.a,{type:"text",name:"name",value:C,placeholder:"John Smith",onChange:F})}),Object(m.jsx)(f.a,{name:"Phone:",children:Object(m.jsx)(l.a,{mask:"+38 (099) 999-99-99",type:"tel",name:"number",value:y,placeholder:"+38 (099) 999-99-99",onChange:F})}),Object(m.jsx)(h.a,{type:"submit",text:"Edit contact"})]})]})}function x(t){var e=t.id,n=t.name,o=t.number,c=Object(r.useState)(!1),l=Object(u.a)(c,2),s=l[0],f=l[1],d=Object(a.b)(),v=Object(r.useCallback)((function(){f((function(t){return!t}))}),[]);return Object(m.jsxs)(m.Fragment,{children:[n,": ",o,Object(m.jsxs)("div",{className:p.a.actions,children:[Object(m.jsx)(h.a,{type:"button",text:"Edit",onClick:v}),Object(m.jsx)(h.a,{type:"button",text:"Delete",onClick:function(t){return d(i.c.deleteContact(t))}})]}),s&&Object(m.jsx)(C,{onClose:v,children:Object(m.jsx)(k,{onSave:v,contact:{id:e,name:n,number:o}})})]})}function P(){var t=Object(a.c)(i.d.getFilteredContact);return Object(m.jsx)("div",{className:p.a.contactsContainer,children:Object(m.jsx)("ul",{className:p.a.contactsList,children:t.length>0&&t.map((function(t){var e=t.id,n=t.name,r=t.number;return Object(m.jsx)("li",{className:p.a.contactItem,children:Object(m.jsx)(x,{id:e,name:n,number:r})},e)}))})})}function y(){var t=Object(a.b)();Object(r.useEffect)((function(){t(i.c.getContacts())}),[t]);var e=Object(a.c)(i.d.getAllContacts);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{text:"Add new Contact"}),Object(m.jsx)(v,{contacts:e}),e.length>0&&Object(m.jsx)(o.a,{text:"Your Contacts:"}),e.length>1&&Object(m.jsx)(b,{}),Object(m.jsx)(P,{})]})}},92:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n(0),n(93);var r=n(1),a=function(t){var e=t.text;return Object(r.jsx)("h2",{className:"Title",children:e})}},93:function(t,e,n){},94:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(36);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},95:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(0),n(99);var r=n(1),a=function(t){var e=t.htmlFor,n=t.name,a=t.children;return Object(r.jsxs)("label",{htmlFor:e,children:[n," ",a]})};a.defaultProps={htmlFor:null,name:null};var i=a},96:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(0),n(100);var r=n(1),a=function(t){var e=t.type,n=t.name,a=t.value,i=t.id,o=t.placeholder,u=t.onChange;return Object(r.jsx)("input",{type:e,name:n,value:a,id:i,placeholder:o,onChange:u})};a.defaultProps={id:null,placeholder:null};var i=a},97:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(0);var r=n(98),a=n.n(r),i=n(1),o=function(t){var e=t.autoComplete,n=t.children,r=t.onSubmit;return Object(i.jsx)("form",{autoComplete:e,className:a.a.Form,onSubmit:r,children:n})};o.defaultProps={autoComplete:null};var u=o},98:function(t,e,n){t.exports={Form:"Form_Form__LLFEl"}},99:function(t,e,n){}}]);
//# sourceMappingURL=3.1aefbd2f.chunk.js.map